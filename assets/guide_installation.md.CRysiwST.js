import{_ as r,I as n,c as E,o,j as i,J as e,ak as t,a,w as p}from"./chunks/framework.DeVdP8gD.js";const v=JSON.parse('{"title":"安装方法","description":"","frontmatter":{},"headers":[],"relativePath":"guide/installation.md","filePath":"guide/installation.md","lastUpdated":1758811441000}'),g={name:"guide/installation.md"},c={class:"details custom-block"},y={class:"important custom-block github-alert"};function b(u,s,m,F,C,f){const h=n("NolebasePageProperties"),l=n("VPNolebaseInlineLinkPreview"),k=n("NolebaseGitContributors"),d=n("NolebaseGitChangelog");return o(),E("div",null,[s[15]||(s[15]=i("h1",{id:"安装方法",tabindex:"-1"},[a("安装方法 "),i("a",{class:"header-anchor",href:"#安装方法","aria-label":"Permalink to “安装方法”"},"​")],-1)),e(h),s[16]||(s[16]=t(`<h2 id="个人安装方式" tabindex="-1">个人安装方式 <a class="header-anchor" href="#个人安装方式" aria-label="Permalink to “个人安装方式”">​</a></h2><h3 id="使用动态导入-推荐" tabindex="-1">使用动态导入 （推荐） <a class="header-anchor" href="#使用动态导入-推荐" aria-label="Permalink to “使用动态导入 （推荐）”">​</a></h3><p>在个人 JS 页面添加以下代码：</p><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="Special:MyPage/common.js">Special:MyPage/common.js</span></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// InPageEdit NEXT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    src: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://cdn.jsdelivr.net/npm/@inpageedit/core/dist/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div>`,4)),i("details",c,[s[2]||(s[2]=t(`<summary>其他安装方式</summary><h3 id="jquery" tabindex="-1">jQuery <a class="header-anchor" href="#jquery" aria-label="Permalink to “jQuery”">​</a></h3><p>你当然可以使用jQuery简化语法，大多数 MediaWiki 环境都自带 jQuery。</p><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="Special:MyPage/common.js">Special:MyPage/common.js</span></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// InPageEdit NEXT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;&lt;script src=&quot;https://cdn.jsdelivr.net/npm/@inpageedit/core/dist/index.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;body&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div><h3 id="浏览器插件" tabindex="-1">浏览器插件 <a class="header-anchor" href="#浏览器插件" aria-label="Permalink to “浏览器插件”">​</a></h3><p>如果你更喜欢使用浏览器插件（例如油猴），可以使用以下代码（仅供参考，不保证有效）：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ==UserScript==</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @name         InPageEdit NEXT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @namespace    https://www.ipe.wiki</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @version      0.1.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @description  🚀 模块化、可扩展的 MediaWiki 超级增强插件</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @author       dragon-fish</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @match        *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @grant        none</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ==/UserScript==</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RLQ</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> window.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RLQ</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RLQ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  gm.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    src: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://cdn.jsdelivr.net/npm/@inpageedit/core/dist/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="下载捆绑包" tabindex="-1">下载捆绑包 <a class="header-anchor" href="#下载捆绑包" aria-label="Permalink to “下载捆绑包”">​</a></h3>`,8)),i("p",null,[s[1]||(s[1]=a("我们同时提供了 bundled 版本，以便那些有特殊需求的用户使用：",-1)),e(l,{href:"https://www.jsdelivr.com/package/npm/@inpageedit/core?tab=files&path=lib",target:"_blank",rel:"noreferrer"},{default:p(()=>[...s[0]||(s[0]=[a("下载地址",-1)])]),_:1})]),s[3]||(s[3]=i("p",null,"捆绑包采用传统 UMD 格式打包，没有动态导入，因此加载速度可能略慢。另外，此版本不会尝试自动导入 CSS，因此你需要手动加载 CSS 文件。",-1))]),s[17]||(s[17]=t(`<details class="details custom-block"><summary>注意事项</summary><h3 id="不要使用-mw-loader-load-加载" tabindex="-1">不要使用 <code>mw.loader.load</code> 加载 <a class="header-anchor" href="#不要使用-mw-loader-load-加载" aria-label="Permalink to “不要使用 mw.loader.load 加载”">​</a></h3><p>InPageEdit-NEXT 是 ES 模块脚本，直接使用 <code>mw.loader</code> 加载会报错。</p><p>如果你更喜欢 <code>mw.loader</code>，请加载捆绑包版本（同时你会失去动态导入带来的性能优化）。</p><h3 id="不要在-mediawiki-的-js-页面使用-import" tabindex="-1">不要在 MediaWiki 的 JS 页面使用 <code>import</code> <a class="header-anchor" href="#不要在-mediawiki-的-js-页面使用-import" aria-label="Permalink to “不要在 MediaWiki 的 JS 页面使用 import”">​</a></h3><p>你也许有想过这个问题：为什么不直接使用 <code>import(/** ... */)</code> 加载 InPageEdit-NEXT？</p><p>这是因为 MediaWiki 的 ResourceLoader 会将 import 语句自动转换为一些内部实现，导致实际行为预期不符。</p></details><h2 id="为站点安装小工具-gadget" tabindex="-1">为站点安装小工具（Gadget） <a class="header-anchor" href="#为站点安装小工具-gadget" aria-label="Permalink to “为站点安装小工具（Gadget）”">​</a></h2><p>如果你是 wiki 的管理员，你可以通过小工具（Gadget）安装 InPageEdit NEXT。</p><p>在 wiki 中创建以下页面：</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-69" id="tab-70" checked><label data-title="MediaWiki:Gadgets-definition" for="tab-70">MediaWiki:Gadgets-definition</label><input type="radio" name="group-69" id="tab-71"><label data-title="MediaWiki:Gadget-IPE-NEXT.js" for="tab-71">MediaWiki:Gadget-IPE-NEXT.js</label><input type="radio" name="group-69" id="tab-72"><label data-title="MediaWiki:Gadget-IPE-NEXT" for="tab-72">MediaWiki:Gadget-IPE-NEXT</label></div><div class="blocks"><div class="language-wiki active"><button title="Copy Code" class="copy"></button><span class="lang">wiki</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IPE-NEXT[ResourceLoader|rights=edit,skipcaptcha]|IPE-NEXT.js</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;script&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    src: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://cdn.jsdelivr.net/npm/@inpageedit/core/dist/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-wiki"><button title="Copy Code" class="copy"></button><span class="lang">wiki</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[InPageEdit-NEXT https://www.ipe.wiki] - 🚀 模块化、可扩展的 MediaWiki 超级增强插件(小编辑、重定向、页面历史)</span></span></code></pre></div></div></div><p>大功告成，前往参数设置页面 → 小工具，查看小工具是否成功注册。</p>`,6)),i("div",y,[s[12]||(s[12]=i("p",{class:"custom-block-title"},"IMPORTANT",-1)),s[13]||(s[13]=i("p",null,null,-1)),s[14]||(s[14]=i("p",null,"部分站点（例如 Fandom、Miraheze）出于安全考虑，对于外部资源引入有一些限制。",-1)),i("details",null,[s[11]||(s[11]=i("summary",null,"替代方案，供参考：",-1)),i("ol",null,[i("li",null,[s[5]||(s[5]=a("下载 IPE 的",-1)),e(l,{href:"https://www.jsdelivr.com/package/npm/@inpageedit/core?tab=files&path=lib",target:"_blank",rel:"noreferrer"},{default:p(()=>[...s[4]||(s[4]=[a("捆绑包",-1)])]),_:1}),s[6]||(s[6]=a("版本，并将 css/js 文件分别创建为 ",-1)),s[7]||(s[7]=i("code",null,"MediaWiki:Gadget-IPE-NEXT.css",-1)),s[8]||(s[8]=a(" 和 ",-1)),s[9]||(s[9]=i("code",null,"MediaWiki:Gadget-IPE-NEXT.js",-1))]),s[10]||(s[10]=i("li",null,[i("code",null,"MediaWiki:Gadgets-definition"),a(" 中相关的行修改为 "),i("code",null,"* IPE-NEXT[ResourceLoader|rights=edit,skipcaptcha]|IPE-NEXT.js|IPE-NEXT.css")],-1))])])]),e(k),e(d)])}const T=r(g,[["render",b]]);export{v as __pageData,T as default};
